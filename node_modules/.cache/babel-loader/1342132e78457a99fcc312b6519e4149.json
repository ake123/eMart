{"ast":null,"code":"import _regeneratorRuntime from\"/home/runner/work/eMart/eMart/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/runner/work/eMart/eMart/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/runner/work/eMart/eMart/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useRef}from\"react\";import{NavLink}from\"react-router-dom\";import Skeleton from\"react-loading-skeleton\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Products=function Products(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),filter=_useState4[0],setFilter=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var componentMounted=useRef(true);useEffect(function(){var getProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,products;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setLoading(true);_context.next=3;return fetch(\"https://fakestoreapi.com/products\");case 3:response=_context.sent;if(!componentMounted.current){_context.next=11;break;}_context.next=7;return response.json();case 7:products=_context.sent;setData(products);setFilter(products);setLoading(false);case 11:case\"end\":return _context.stop();}},_callee);}));return function getProducts(){return _ref.apply(this,arguments);};}();getProducts();return function(){componentMounted.current=false;};},[]);var Loading=function Loading(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(Skeleton,{height:350})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(Skeleton,{height:350})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(Skeleton,{height:350})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(Skeleton,{height:350})})]});};var filterProduct=function filterProduct(cat){var updateList=data.filter(function(x){return x.category===cat;});setFilter(updateList);};var ShowProducts=function ShowProducts(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"buttons d-flex justify-content-center mb-5 pb-5\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark me-2\",onClick:function onClick(){return setFilter(data);},children:\"All\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark me-2\",onClick:function onClick(){return filterProduct(\"men's clothing\");},children:\"Men's clothing\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark me-2\",onClick:function onClick(){return filterProduct(\"women's clothing\");},children:\"Women's clothing\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark me-2\",onClick:function onClick(){return filterProduct(\"jewelery\");},children:\"Jewelery\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark me-2\",onClick:function onClick(){return filterProduct(\"electronics\");},children:\"Electronics\"})]}),filter.map(function(product){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card h-100 text-center p-4\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.image,className:\"card-img-top\",alt:product.title,height:\"250px\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title mb-0\",children:[product.title.substring(0,12),\"...\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text lead fw-bold\",children:[\"$\",product.price]}),/*#__PURE__*/_jsx(NavLink,{to:\"/products/\".concat(product.id),className:\"btn btn-outline-dark\",children:\"Buy Now\"})]})]},product.id)})});})]});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container my-5 py-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 mb-5\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-6 fw-bolder text-center\",children:\"Latest Products\"}),/*#__PURE__*/_jsx(\"hr\",{})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:loading?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsx(ShowProducts,{})})]})});};export default Products;","map":{"version":3,"names":["React","useState","useEffect","useRef","NavLink","Skeleton","Products","data","setData","filter","setFilter","loading","setLoading","componentMounted","getProducts","fetch","response","current","json","products","Loading","filterProduct","cat","updateList","x","category","ShowProducts","map","product","image","title","substring","price","id"],"sources":["/home/runner/work/eMart/eMart/src/component/Products.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport Skeleton from \"react-loading-skeleton\";\n\nconst Products = () => {\n  const [data, setData] = useState([]);\n  const [filter, setFilter] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const componentMounted = useRef(true);\n\n  useEffect(() => {\n    const getProducts = async () => {\n      setLoading(true);\n      const response = await fetch(\"https://fakestoreapi.com/products\");\n      if (componentMounted.current) {\n        const products = await response.json();\n        setData(products);\n        setFilter(products);\n        setLoading(false);\n      }\n    };\n\n    getProducts();\n\n    return () => {\n      componentMounted.current = false;\n    };\n  }, []);\n\n  const Loading = () => {\n    return (\n      <>\n        <div className=\"col-md-3\">\n          <Skeleton height={350} />\n        </div>\n        <div className=\"col-md-3\">\n          <Skeleton height={350} />\n        </div>\n        <div className=\"col-md-3\">\n          <Skeleton height={350} />\n        </div>\n        <div className=\"col-md-3\">\n          <Skeleton height={350} />\n        </div>\n      </>\n    );\n  };\n  const filterProduct = (cat) => {\n    const updateList = data.filter((x) => x.category === cat);\n    setFilter(updateList);\n  };\n\n  const ShowProducts = () => {\n    return (\n      <>\n        <div className=\"buttons d-flex justify-content-center mb-5 pb-5\">\n          <button\n            className=\"btn btn-outline-dark me-2\"\n            onClick={() => setFilter(data)}>\n            All\n          </button>\n          <button\n            className=\"btn btn-outline-dark me-2\"\n            onClick={() => filterProduct(\"men's clothing\")}>\n            Men's clothing\n          </button>\n          <button\n            className=\"btn btn-outline-dark me-2\"\n            onClick={() => filterProduct(\"women's clothing\")}>\n            Women's clothing\n          </button>\n          <button\n            className=\"btn btn-outline-dark me-2\"\n            onClick={() => filterProduct(\"jewelery\")}>\n            Jewelery\n          </button>\n          <button\n            className=\"btn btn-outline-dark me-2\"\n            onClick={() => filterProduct(\"electronics\")}>\n            Electronics\n          </button>\n        </div>\n        {filter.map((product) => {\n          return (\n            <>\n              <div className=\"col-md-3 mb-4\">\n                <div className=\"card h-100 text-center p-4\" key={product.id}>\n                  <img\n                    src={product.image}\n                    className=\"card-img-top\"\n                    alt={product.title}\n                    height=\"250px\"\n                  />\n                  <div className=\"card-body\">\n                    <h5 className=\"card-title mb-0\">\n                      {product.title.substring(0, 12)}...\n                    </h5>\n                    <p className=\"card-text lead fw-bold\">${product.price}</p>\n                    <NavLink\n                      to={`/products/${product.id}`}\n                      className=\"btn btn-outline-dark\">\n                      Buy Now\n                    </NavLink>\n                  </div>\n                </div>\n              </div>\n            </>\n          );\n        })}\n      </>\n    );\n  };\n\n  return (\n    <div>\n      <div className=\"container my-5 py-5\">\n        <div className=\"row\">\n          <div className=\"col-12 mb-5\">\n            <h1 className=\"display-6 fw-bolder text-center\">Latest Products</h1>\n            <hr />\n          </div>\n        </div>\n        <div className=\"row justify-content-center\">\n          {loading ? <Loading /> : <ShowProducts />}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Products;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}